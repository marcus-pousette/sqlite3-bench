<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>sqlite3-wasm benchmark</title>
    <script type="importmap">
      {
        "imports": {
          "@libsql/libsql-wasm-experimental": "/vendor/@libsql/client-wasm/node_modules/@libsql/libsql-wasm-experimental/index.mjs",
          "@libsql/core/api": "/vendor/@libsql/core/lib-esm/api.js",
          "@libsql/core/config": "/vendor/@libsql/core/lib-esm/config.js",
          "@libsql/core/util": "/vendor/@libsql/core/lib-esm/util.js"
        , "js-base64": "/vendor/js-base64/base64.mjs"
        }
      }
    </script>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 2rem; }
      code { background: #f5f5f5; padding: 2px 4px; border-radius: 3px; }
      pre { background: #f5f5f5; padding: 1rem; border-radius: 5px; }
      .muted { color: #666; }
      table { border-collapse: collapse; }
      th, td { border: 1px solid #ddd; padding: 6px 8px; }
    </style>
    <script src="https://unpkg.com/@sqlite.org/sqlite-wasm@3.46.0-build1/sqlite-wasm/jswasm/sqlite3.js"></script>
  </head>
  <body>
    <h1>sqlite3-wasm benchmark</h1>
    <p class="muted">This runs entirely in your browser and POSTs results back to the local server to update the README.</p>
    <p>
      Engine:
      <select id="engine">
        <option value="sqlite3-wasm" selected>sqlite3-wasm (official)</option>
        <option value="libsql-client-wasm">libsql-client-wasm (embedded)</option>
        <option value="pglite-wasm">pglite (Postgres-in-WASM)</option>
      </select>
      Rows: <input id="rows" type="number" min="100" step="100" value="5000" />
      <button id="run">Run benchmark</button>
      <button id="copy">Copy Markdown</button>
    </p>
    
    <div id="status">Loading sqlite3-wasmâ€¦</div>
    <pre id="output"></pre>
    <script src="/main.js" type="module"></script>
  </body>
  </html>
